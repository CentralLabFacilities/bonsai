<?xml version="1.0" encoding="UTF-8"?>
<!-- This Example shows how to scxml data for transition conditions -->
<scxml xmlns="http://www.w3.org/2005/07/scxml" version="1.0"
       initial="example.ParameterHaver">
    <datamodel>
        <data id="#_STATE_PREFIX" expr="'de.unibi.citec.clf.bonsai.skills.'" />
        <!-- Define a scxml variable in the datamodel -->
        <data id="hellosToSpeak" expr="3"/>
    </datamodel>

    <state id="example.ParameterHaver">
        <datamodel>
            <data id="value" expr="'@hellosToSpeak'"/>
        </datamodel>

        <!-- We now use a conditional transition first -->
        <!-- To Repeat the state -->
        <transition event="ParameterHaver.*" cond="hellosToSpeak > 1" target="Wait#a" >
            <!-- during the transition we can execute scxml actions -->
            <!-- We change the variable with the assign action -->
            <assign location="hellosToSpeak" expr="hellosToSpeak - 1"/>
        </transition>

        <!-- Another transition without condition is defined afterwards-->
        <transition event="ParameterHaver.*" target="End" />
    </state>

    <state id="Wait#a">
        <transition event="Wait.*" target="example.ParameterHaver"/>
    </state>

    <final id="End" />
</scxml>
